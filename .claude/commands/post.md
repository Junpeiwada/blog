# /post コマンド

記事作成テンプレートを生成します。写真URLや記事内容の情報を引数として受け取り、記事作成ワークフローに従って記事を作成します。

## 使用方法

```
/post 写真URLや記事の内容に関する情報
```

## 実行内容

このコマンドは以下の手順で記事作成を支援します：

1. **記事作成ワークフローの参照**
   - `docs/ARTICLE_WORKFLOW.md`の3ステップワークフローに従って進行
   - 画像処理・分析 → 記事作成 → 品質チェック・公開の流れ

2. **画像分析の実行**
   - 提供されたGoogle Photos URLから画像を抽出・ダウンロード
   - EXIF情報から撮影日時を自動抽出
   - 画像分析MDファイルを生成

3. **記事テンプレート作成**
   - 分析結果に基づいて適切な記事日付を設定
   - 必須フロントマター項目を含む記事テンプレートを生成
   - 7つの標準カテゴリから適切なカテゴリを提案

4. **品質チェックリストの提供**
   - 記事作成チェックリストを表示
   - 最適化URL使用の確認
   - ビルド・公開手順のガイド

記事作成の詳細な手順については、必ず `docs/ARTICLE_WORKFLOW.md` を参照してください。

---

記事作成を開始します。

まず、`docs/ARTICLE_WORKFLOW.md`の記事作成ワークフローに従って処理を進めます。

**Step 1: 画像処理・分析**
提供された情報: $ARGUMENTS

Google Photos URLが含まれている場合は、以下の手順で処理します：

1. Google Photos URL抽出
```bash
python scripts/google_photos_extractor.py "提供されたURL" --headless
```

2. 画像ダウンロード・分析
```bash
python scripts/download_images_for_review.py --clean [URL群] --article-title "記事タイトル"
```

**Step 2: 記事作成**
画像分析完了後、以下の手順で記事を作成します：

1. `scripts/tmp/image_analysis_*.md`ファイルを確認
2. EXIF情報から抽出された推奨記事日付を使用
3. 画像の`s800-no-gm`最適化URLを記事に使用
4. 以下のテンプレートで記事を作成

**記事テンプレート:**
```markdown
---
title: "[記事タイトル]"
date: [EXIF情報から決定された日付]
category: "[7つの標準カテゴリから選択]"
tags: [関連タグ3-6個]
description: "[記事の簡潔な説明]"
featured_image: "[代表画像のs800-no-gmURL]"
---

## [見出し]

記事内容...

![画像説明](画像分析MDファイルのs800-no-gmURL)

```

**Step 3: 品質チェック・公開**
記事作成後、以下のチェックリストを確認：

✅ **記事作成チェックリスト**
- [ ] 日付: 画像分析MDから推奨日付を設定
- [ ] タイトル: 内容に合致したタイトル作成  
- [ ] カテゴリ: 7つの標準カテゴリから選択
- [ ] featured_image: 代表画像を設定
- [ ] 最適化URL使用: s800-no-gm URLを記事に使用
- [ ] H1タイトル未使用（H2から開始）
- [ ] 画像と記事内容の整合性確認
- [ ] フロントマター必須項目完備

**最終公開:**
```bash
npm run ビルドして公開
```

**7つの標準カテゴリ:**
1. 海・潜水 - 素潜り、スピアフィッシング
2. 釣り - 船釣り、陸釣り  
3. 登山・クライミング - 山岳活動
4. 旅行記 - 観光、イベント参加
5. ギア・道具 - 商品レビュー
6. クラフト・DIY - 手作り作品
7. 山岳ガイド - 登山情報提供

詳細は`docs/ARTICLE_WORKFLOW.md`を参照してください。